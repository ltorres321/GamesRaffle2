(()=>{var e={};e.id=716,e.ids=[716],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4458:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>f,tree:()=>c});var s=r(7096),a=r(6132),o=r(7284),n=r.n(o),i=r(2564),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c=["",{children:["auth",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8849)),"/workspaces/GamesRaffle2/frontend/src/app/auth/login/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2540)),"/workspaces/GamesRaffle2/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],d=["/workspaces/GamesRaffle2/frontend/src/app/auth/login/page.tsx"],u="/auth/login/page",m={require:r,loadChunk:()=>Promise.resolve()},f=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/auth/login/page",pathname:"/auth/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},259:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3579,23)),Promise.resolve().then(r.t.bind(r,619,23)),Promise.resolve().then(r.t.bind(r,1459,23)),Promise.resolve().then(r.t.bind(r,3456,23)),Promise.resolve().then(r.t.bind(r,847,23)),Promise.resolve().then(r.t.bind(r,7303,23))},8952:(e,t,r)=>{Promise.resolve().then(r.bind(r,5256)),Promise.resolve().then(r.bind(r,6837))},5583:(e,t,r)=>{Promise.resolve().then(r.bind(r,3453))},3453:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(3854),a=r(4218),o=r(1018),n=r(5548),i=r.n(n),l=r(6837);function c(){let e=(0,o.useRouter)(),{login:t}=(0,l.useAuth)(),[r,n]=(0,a.useState)({email:"",password:""}),[c,d]=(0,a.useState)({}),[u,m]=(0,a.useState)(!1),f=e=>{let{name:t,value:r}=e.target;n(e=>({...e,[t]:r})),c[t]&&d(e=>({...e,[t]:""}))},h=async s=>{if(s.preventDefault(),!r.email||!r.password){d({general:"Please fill in all fields"});return}m(!0),d({});try{let s=await t(r.email,r.password);s?e.push("/"):d({general:"Username or password is incorrect"})}catch(e){console.error("\uD83D\uDEA8 Login error:",e),d({general:"Network error - please check connection"})}finally{m(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-green-900 to-gray-900 flex items-center justify-center px-4 py-12",children:s.jsx("div",{className:"max-w-md w-full",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Welcome Back"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Sign in to your Games Raffle account"})]}),c.general&&s.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-300 text-red-700 rounded-md",children:c.general}),(0,s.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsx("input",{type:"email",name:"email",value:r.email,onChange:f,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-600 text-gray-900 bg-white ${c.email?"border-red-300":"border-gray-300"}`,placeholder:"Enter your email"}),c.email&&s.jsx("p",{className:"text-red-600 text-xs mt-1",children:c.email})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsx("input",{type:"password",name:"password",value:r.password,onChange:f,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-600 text-gray-900 bg-white ${c.password?"border-red-300":"border-gray-300"}`,placeholder:"Enter your password"}),c.password&&s.jsx("p",{className:"text-red-600 text-xs mt-1",children:c.password})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),s.jsx("div",{className:"text-sm",children:s.jsx(i(),{href:"/auth/forgot-password",className:"font-medium text-green-600 hover:text-green-500",children:"Forgot your password?"})})]}),s.jsx("button",{type:"submit",disabled:u,className:"w-full bg-green-600 text-white py-3 px-4 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-600 font-medium disabled:opacity-50",children:u?"Signing In...":"Sign In"})]}),s.jsx("div",{className:"mt-6 text-center",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",s.jsx(i(),{href:"/auth/register",className:"text-green-600 hover:text-green-500 font-medium",children:"Sign up"})]})})]})})})}},9812:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s={BASE_URL:"https://gamesraffle2.onrender.com",ENDPOINTS:{AUTH:{REGISTER:"/api/auth/register",LOGIN:"/api/auth/login",LOGOUT:"/api/auth/logout",REFRESH:"/api/auth/refresh",ME:"/api/auth/me",VERIFY:"/api/auth/verify",VERIFY_EMAIL:"/api/auth/verify-email",VERIFY_PHONE:"/api/auth/verify-phone",RESEND_EMAIL:"/api/auth/resend-email-verification",RESEND_SMS:"/api/auth/resend-sms-verification",CHANGE_PASSWORD:"/api/auth/password"},USERS:{PROFILE:"/api/users/profile",UPDATE_PROFILE:"/api/users/profile"},GAMES:{LIST:"/api/games",DETAIL:"/api/games/:id",JOIN:"/api/games/:id/join"},PICKS:{SUBMIT:"/api/picks",HISTORY:"/api/picks/history"}}}},6837:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AuthProvider:()=>l,useAuth:()=>c,useRequireAuth:()=>u,withAuth:()=>d});var s=r(3854),a=r(4218),o=r(1018),n=r(9812);let i=(0,a.createContext)(void 0);function l({children:e}){let[t,r]=(0,a.useState)(null),[l,c]=(0,a.useState)(!0),d=(0,o.useRouter)();(0,a.useEffect)(()=>{u()},[]);let u=async()=>{try{let e=localStorage.getItem("accessToken");if(!e){c(!1);return}let t=await fetch(`${n.Z.BASE_URL}${n.Z.ENDPOINTS.AUTH.VERIFY}`,{headers:{Authorization:`Bearer ${e}`}});if(t.ok){let e=await t.json();e.authenticated?r(e.data.user):(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("sessionId"))}else 401===t.status&&await m()}catch(e){console.error("Auth check failed:",e),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("sessionId")}finally{c(!1)}},m=async()=>{try{let e=localStorage.getItem("refreshToken");if(!e)return!1;let t=await fetch(`${n.Z.BASE_URL}${n.Z.ENDPOINTS.AUTH.REFRESH}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:e})});if(t.ok){let e=await t.json();return localStorage.setItem("accessToken",e.data.tokens.accessToken),localStorage.setItem("refreshToken",e.data.tokens.refreshToken),await u(),!0}}catch(e){console.error("Token refresh failed:",e)}return!1},f=async(e,t)=>{try{let s=await fetch(`${n.Z.BASE_URL}${n.Z.ENDPOINTS.AUTH.LOGIN}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),a=await s.json();if(a.success)return localStorage.setItem("accessToken",a.data.tokens.accessToken),localStorage.setItem("refreshToken",a.data.tokens.refreshToken),localStorage.setItem("sessionId",a.data.tokens.sessionId),r(a.data.user),c(!1),!0;return!1}catch(e){return console.error("Login failed:",e),!1}},h=async()=>{try{let e=localStorage.getItem("accessToken"),t=localStorage.getItem("sessionId");e&&await fetch(`${n.Z.BASE_URL}${n.Z.ENDPOINTS.AUTH.LOGOUT}`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({sessionId:t})})}catch(e){console.error("Logout API call failed:",e)}localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("sessionId"),r(null),d.push("/")},p=async()=>{await u()};return s.jsx(i.Provider,{value:{user:t,isLoading:l,isAuthenticated:!!t,login:f,logout:h,refreshAuth:p},children:e})}function c(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function d(e,t={}){return function(r){let{user:n,isLoading:i,isAuthenticated:l}=c(),d=(0,o.useRouter)();return((0,a.useEffect)(()=>{if(!i){if(!l){d.push(t.redirectTo||"/auth/login");return}if(t.requireVerification&&!t.allowUnverified&&!n?.isVerified){d.push("/auth/verify");return}}},[i,l,n,d]),i)?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-green-900 to-gray-900",children:s.jsx("div",{className:"text-white text-lg",children:"Loading..."})}):l&&(!t.requireVerification||t.allowUnverified||n?.isVerified)?s.jsx(e,{...r}):null}}function u(e={}){let{user:t,isLoading:r,isAuthenticated:s}=c(),n=(0,o.useRouter)();return(0,a.useEffect)(()=>{if(!r){if(!s){n.push(e.redirectTo||"/auth/login");return}if(e.requireVerification&&!e.allowUnverified&&!t?.isVerified){n.push("/auth/verify");return}}},[r,s,t,n]),{user:t,isLoading:r,isAuthenticated:s,isVerified:t?.isVerified||!1,canMakePicks:s&&t?.isVerified,canDeposit:s&&t?.isVerified,canViewMyContests:s}}},8849:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>o,default:()=>l});var s=r(5153);let a=(0,s.createProxy)(String.raw`/workspaces/GamesRaffle2/frontend/src/app/auth/login/page.tsx`),{__esModule:o,$$typeof:n}=a,i=a.default,l=i},2540:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f,metadata:()=>m});var s=r(4656),a=r(177),o=r.n(a);r(5023);var n=r(8204),i=r(5153);let l=(0,i.createProxy)(String.raw`/workspaces/GamesRaffle2/frontend/src/contexts/AuthContext.tsx`),{__esModule:c,$$typeof:d}=l;l.default;let u=(0,i.createProxy)(String.raw`/workspaces/GamesRaffle2/frontend/src/contexts/AuthContext.tsx#AuthProvider`);(0,i.createProxy)(String.raw`/workspaces/GamesRaffle2/frontend/src/contexts/AuthContext.tsx#useAuth`),(0,i.createProxy)(String.raw`/workspaces/GamesRaffle2/frontend/src/contexts/AuthContext.tsx#withAuth`),(0,i.createProxy)(String.raw`/workspaces/GamesRaffle2/frontend/src/contexts/AuthContext.tsx#useRequireAuth`);let m={title:"Games Raffle - Win Big Prizes",description:"The ultimate NFL survivor contest platform with amazing prizes from top vendors",keywords:"NFL, survivor, contest, sports betting, prizes, cars, vacations, games raffle"};function f({children:e}){return s.jsx("html",{lang:"en",className:"dark",children:(0,s.jsxs)("body",{className:`${o().className} bg-dark-900 text-white min-h-screen`,children:[s.jsx(u,{children:s.jsx("div",{className:"min-h-screen bg-gradient-dark",children:e})}),s.jsx(n.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#1e293b",color:"#ffffff",border:"1px solid #22c55e"},success:{iconTheme:{primary:"#22c55e",secondary:"#ffffff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#ffffff"}}}})]})})}},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[271,548],()=>r(4458));module.exports=s})();